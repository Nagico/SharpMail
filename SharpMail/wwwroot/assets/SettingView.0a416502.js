import{h as Ve,az as ye,aA as x,aB as Ne,aC as Se,E as B,aD as he,j as we,aE as Pe,l as J,r as C,ag as ue,aF as xe,c as L,a0 as O,aG as Ie,aH as Ce,w as Ee,o as ie,aI as Le,q as P,s as z,x as D,u as i,v as G,aJ as M,A as g,H as h,G as T,ae as ke,aK as Ae,ai as te,J as le,aL as Te,aM as Be,aN as de,aO as Y,_ as He,aP as ne,am as Q,Q as $e,aQ as Fe,M as Oe,ah as k,W as Me,X as Ue,aa as K,a as ze,an as ce,L as De,aR as A,a9 as ae,z as me,aS as Ke,aT as Re,aU as qe,aV as W,aW as je,aX as Ge,au as Ye,aY as We,aq as Ze,ar as Je,aZ as Qe,aw as Xe}from"./index.aee8fd7c.js";const oe={beforeMount(e,t){let o=null,n=!1;const r=()=>t.value&&t.value(),a=()=>{clearInterval(o),o=null,n||r(),n=!1};e.addEventListener("mousedown",p=>{p.button===0&&(document.addEventListener("mouseup",a,{once:!0}),clearInterval(o),o=setInterval(()=>{n=!0,r()},100))})}},et=Ve({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,disabled:Boolean,size:ye,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||x(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),tt={[Ne]:(e,t)=>e!==t,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Se]:e=>x(e)||B(e),[he]:e=>x(e)||B(e)},lt=["aria-label","onKeydown"],nt=["aria-label","onKeydown"],at={name:"ElInputNumber"},ot=we({...at,props:et,emits:tt,setup(e,{expose:t,emit:o}){const n=e,{t:r}=Pe(),a=J("input-number"),p=C(),u=ue({currentValue:n.modelValue,userInput:null}),{formItem:c}=xe(),V=L(()=>x(n.modelValue)&&H(n.modelValue,-1)<n.min),y=L(()=>x(n.modelValue)&&H(n.modelValue)>n.max),w=L(()=>{const l=X(n.step);return O(n.precision)?Math.max(X(n.modelValue),l):(l>n.precision,n.precision)}),v=L(()=>n.controls&&n.controlsPosition==="right"),d=Ie(),f=Ce(),E=L(()=>{if(u.userInput!==null)return u.userInput;let l=u.currentValue;if(B(l))return"";if(x(l)){if(Number.isNaN(l))return"";O(n.precision)||(l=l.toFixed(n.precision))}return l}),_=(l,s)=>{if(O(s)&&(s=w.value),s===0)return Math.round(l);let m=String(l);const b=m.indexOf(".");if(b===-1||!m.replace(".","").split("")[b+s])return l;const $=m.length;return m.charAt($-1)==="5"&&(m=`${m.slice(0,Math.max(0,$-1))}6`),Number.parseFloat(Number(m).toFixed(s))},X=l=>{if(B(l))return 0;const s=l.toString(),m=s.indexOf(".");let b=0;return m!==-1&&(b=s.length-m-1),b},H=(l,s=1)=>x(l)?_(l+n.step*s):u.currentValue,R=()=>{if(f.value||y.value)return;const l=n.modelValue||0,s=H(l);j(s)},q=()=>{if(f.value||V.value)return;const l=n.modelValue||0,s=H(l,-1);j(s)},ee=(l,s)=>{const{max:m,min:b,step:N,precision:I,stepStrictly:$,valueOnClear:F}=n;let S=Number(l);if(B(l)||Number.isNaN(S))return null;if(l===""){if(F===null)return null;S=Q(F)?{min:b,max:m}[F]:F}return $&&(S=_(Math.round(S/N)*N,I)),O(I)||(S=_(S,I)),(S>m||S<b)&&(S=S>m?m:b,s&&o("update:modelValue",S)),S},j=l=>{var s;const m=u.currentValue,b=ee(l);m!==b&&(u.userInput=null,o("update:modelValue",b),o("input",b),o("change",b,m),n.validateEvent&&((s=c==null?void 0:c.validate)==null||s.call(c,"change").catch(N=>ne())),u.currentValue=b)},pe=l=>u.userInput=l,ve=l=>{const s=l!==""?Number(l):"";(x(s)&&!Number.isNaN(s)||l==="")&&j(s),u.userInput=null},fe=()=>{var l,s;(s=(l=p.value)==null?void 0:l.focus)==null||s.call(l)},be=()=>{var l,s;(s=(l=p.value)==null?void 0:l.blur)==null||s.call(l)},ge=l=>{o("focus",l)},_e=l=>{var s;o("blur",l),n.validateEvent&&((s=c==null?void 0:c.validate)==null||s.call(c,"blur").catch(m=>ne()))};return Ee(()=>n.modelValue,l=>{u.currentValue=ee(l,!0),u.userInput=null},{immediate:!0}),ie(()=>{var l;const{min:s,max:m,modelValue:b}=n,N=(l=p.value)==null?void 0:l.input;if(N.setAttribute("role","spinbutton"),Number.isFinite(m)?N.setAttribute("aria-valuemax",String(m)):N.removeAttribute("aria-valuemax"),Number.isFinite(s)?N.setAttribute("aria-valuemin",String(s)):N.removeAttribute("aria-valuemin"),N.setAttribute("aria-valuenow",String(u.currentValue)),N.setAttribute("aria-disabled",String(f.value)),!x(b)&&b!=null){let I=Number(b);Number.isNaN(I)&&(I=null),o("update:modelValue",I)}}),Le(()=>{var l;const s=(l=p.value)==null?void 0:l.input;s==null||s.setAttribute("aria-valuenow",`${u.currentValue}`)}),t({focus:fe,blur:be}),(l,s)=>(P(),z("div",{class:G([i(a).b(),i(a).m(i(d)),i(a).is("disabled",i(f)),i(a).is("without-controls",!l.controls),i(a).is("controls-right",i(v))]),onDragstart:s[0]||(s[0]=Y(()=>{},["prevent"]))},[l.controls?D((P(),z("span",{key:0,role:"button","aria-label":i(r)("el.inputNumber.decrease"),class:G([i(a).e("decrease"),i(a).is("disabled",i(V))]),onKeydown:M(q,["enter"])},[g(i(te),null,{default:h(()=>[i(v)?(P(),T(i(ke),{key:0})):(P(),T(i(Ae),{key:1}))]),_:1})],42,lt)),[[i(oe),q]]):le("v-if",!0),l.controls?D((P(),z("span",{key:1,role:"button","aria-label":i(r)("el.inputNumber.increase"),class:G([i(a).e("increase"),i(a).is("disabled",i(y))]),onKeydown:M(R,["enter"])},[g(i(te),null,{default:h(()=>[i(v)?(P(),T(i(Te),{key:0})):(P(),T(i(Be),{key:1}))]),_:1})],42,nt)),[[i(oe),R]]):le("v-if",!0),g(i(de),{id:l.id,ref_key:"input",ref:p,type:"number",step:l.step,"model-value":i(E),placeholder:l.placeholder,disabled:i(f),size:i(d),max:l.max,min:l.min,name:l.name,label:l.label,"validate-event":!1,onKeydown:[M(Y(R,["prevent"]),["up"]),M(Y(q,["prevent"]),["down"])],onBlur:_e,onFocus:ge,onInput:pe,onChange:ve},null,8,["id","step","model-value","placeholder","disabled","size","max","min","name","label","onKeydown"])],34))}});var st=He(ot,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const rt=$e(st);function ut(e){let t;const o=J("loading"),n=C(!1),r=ue({...e,originalPosition:"",originalOverflow:"",visible:!1});function a(d){r.text=d}function p(){const d=r.parent;if(!d.vLoadingAddClassList){let f=d.getAttribute("loading-number");f=Number.parseInt(f)-1,f?d.setAttribute("loading-number",f.toString()):(K(d,o.bm("parent","relative")),d.removeAttribute("loading-number")),K(d,o.bm("parent","hidden"))}u(),w.unmount()}function u(){var d,f;(f=(d=v.$el)==null?void 0:d.parentNode)==null||f.removeChild(v.$el)}function c(){var d;if(e.beforeClose&&!e.beforeClose())return;const f=r.parent;f.vLoadingAddClassList=void 0,n.value=!0,clearTimeout(t),t=window.setTimeout(()=>{n.value&&(n.value=!1,p())},400),r.visible=!1,(d=e.closed)==null||d.call(e)}function V(){!n.value||(n.value=!1,p())}const w=Fe({name:"ElLoading",setup(){return()=>{const d=r.spinner||r.svg,f=k("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"25 25 50 50",...d?{innerHTML:d}:{}},[k("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),E=r.text?k("p",{class:o.b("text")},[r.text]):void 0;return k(Ue,{name:o.b("fade"),onAfterLeave:V},{default:h(()=>[D(g("div",{style:{backgroundColor:r.background||""},class:[o.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[k("div",{class:o.b("spinner")},[f,E])]),[[Me,r.visible]])])})}}}),v=w.mount(document.createElement("div"));return{...Oe(r),setText:a,removeElLoadingChild:u,close:c,handleAfterLeave:V,vm:v,get $el(){return v.$el}}}let U;const it=function(e={}){if(!ze)return;const t=dt(e);if(t.fullscreen&&U)return U;const o=ut({...t,closed:()=>{var r;(r=t.closed)==null||r.call(t),t.fullscreen&&(U=void 0)}});ct(t,t.parent,o),se(t,t.parent,o),t.parent.vLoadingAddClassList=()=>se(t,t.parent,o);let n=t.parent.getAttribute("loading-number");return n?n=`${Number.parseInt(n)+1}`:n="1",t.parent.setAttribute("loading-number",n),t.parent.appendChild(o.$el),ce(()=>o.visible.value=t.visible),t.fullscreen&&(U=o),o},dt=e=>{var t,o,n,r;let a;return Q(e.target)?a=(t=document.querySelector(e.target))!=null?t:document.body:a=e.target||document.body,{parent:a===document.body||e.body?document.body:a,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:a===document.body&&((o=e.fullscreen)!=null?o:!0),lock:(n=e.lock)!=null?n:!1,customClass:e.customClass||"",visible:(r=e.visible)!=null?r:!0,target:a}},ct=async(e,t,o)=>{const{nextZIndex:n}=De(),r={};if(e.fullscreen)o.originalPosition.value=A(document.body,"position"),o.originalOverflow.value=A(document.body,"overflow"),r.zIndex=n();else if(e.parent===document.body){o.originalPosition.value=A(document.body,"position"),await ce();for(const a of["top","left"]){const p=a==="top"?"scrollTop":"scrollLeft";r[a]=`${e.target.getBoundingClientRect()[a]+document.body[p]+document.documentElement[p]-Number.parseInt(A(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])r[a]=`${e.target.getBoundingClientRect()[a]}px`}else o.originalPosition.value=A(t,"position");for(const[a,p]of Object.entries(r))o.$el.style[a]=p},se=(e,t,o)=>{const n=J("loading");o.originalPosition.value!=="absolute"&&o.originalPosition.value!=="fixed"?ae(t,n.bm("parent","relative")):K(t,n.bm("parent","relative")),e.fullscreen&&e.lock?ae(t,n.bm("parent","hidden")):K(t,n.bm("parent","hidden"))},Z=Symbol("ElLoading"),re=(e,t)=>{var o,n,r,a;const p=t.instance,u=v=>me(t.value)?t.value[v]:void 0,c=v=>{const d=Q(v)&&(p==null?void 0:p[v])||v;return d&&C(d)},V=v=>c(u(v)||e.getAttribute(`element-loading-${Re(v)}`)),y=(o=u("fullscreen"))!=null?o:t.modifiers.fullscreen,w={text:V("text"),svg:V("svg"),svgViewBox:V("svgViewBox"),spinner:V("spinner"),background:V("background"),customClass:V("customClass"),fullscreen:y,target:(n=u("target"))!=null?n:y?void 0:e,body:(r=u("body"))!=null?r:t.modifiers.body,lock:(a=u("lock"))!=null?a:t.modifiers.lock};e[Z]={options:w,instance:it(w)}},mt=(e,t)=>{for(const o of Object.keys(t))Ke(t[o])&&(t[o].value=e[o])},pt={mounted(e,t){t.value&&re(e,t)},updated(e,t){const o=e[Z];t.oldValue!==t.value&&(t.value&&!t.oldValue?re(e,t):t.value&&t.oldValue?me(t.value)&&mt(t.value,o.options):o==null||o.instance.close())},unmounted(e){var t;(t=e[Z])==null||t.instance.close()}};const vt={class:"container"},ft=Ze("h2",null,"\u8BBE\u7F6E",-1),bt=Je("\u4FDD\u5B58"),_t={__name:"SettingView",setup(e){const t=C(!0),o=C(!1),n=C(null),r=C({email:[{required:!0,trigger:"blur"}],smtpHost:[{required:!0,trigger:"blur"}],smtpPort:[{required:!0,trigger:"blur"}],pop3Host:[{required:!0,trigger:"blur"}],pop3Port:[{required:!0,trigger:"blur"}]}),a=C({email:"",smtpHost:"",smtpPort:465,smtpSSL:!0,pop3Host:"",pop3Port:995,pop3SSL:!0}),p=()=>{o.value=!0,n.value.validate(u=>{u?Qe(a.value.smtpHost,a.value.smtpPort,a.value.smtpSSL,a.value.pop3Host,a.value.pop3Port,a.value.pop3SSL).then(()=>{Xe("\u4FDD\u5B58\u6210\u529F")}).catch(()=>{W("\u4FDD\u5B58\u5931\u8D25")}).finally(()=>{o.value=!1}):(o.value=!1,W("\u4FDD\u5B58\u5931\u8D25","\u4FE1\u606F\u672A\u586B\u5199\u5B8C\u6574"))})};return ie(()=>{qe().then(u=>{a.value={email:u.email,smtpHost:u.smtp_host,smtpPort:u.smtp_port,smtpSSL:u.smtp_ssl,pop3Host:u.pop3_host,pop3Port:u.pop3_port,pop3SSL:u.pop3_ssl}}).catch(u=>{W("\u83B7\u53D6\u914D\u7F6E\u5931\u8D25",u)}).finally(()=>{t.value=!1})}),(u,c)=>{const V=de,y=je,w=rt,v=Ge,d=Ye,f=We,E=pt;return P(),z("div",vt,[ft,D((P(),T(f,{model:a.value,rules:r.value,ref_key:"formRef",ref:n,"label-width":"110px","label-position":"left"},{default:h(()=>[g(y,{prop:"email",label:"\u90AE\u7BB1\u5730\u5740"},{default:h(()=>[g(V,{modelValue:a.value.email,"onUpdate:modelValue":c[0]||(c[0]=_=>a.value.email=_),maxlength:"50"},null,8,["modelValue"])]),_:1}),g(y,{prop:"smtpHost",label:"SMTP\u670D\u52A1\u5668"},{default:h(()=>[g(V,{modelValue:a.value.smtpHost,"onUpdate:modelValue":c[1]||(c[1]=_=>a.value.smtpHost=_),maxlength:"50"},null,8,["modelValue"])]),_:1}),g(y,{prop:"smtpPort",label:"SMTP\u7AEF\u53E3"},{default:h(()=>[g(w,{modelValue:a.value.smtpPort,"onUpdate:modelValue":c[2]||(c[2]=_=>a.value.smtpPort=_),type:"number",min:1,max:65535},null,8,["modelValue"])]),_:1}),g(y,{label:"SMTP\u4F7F\u7528SSL"},{default:h(()=>[g(v,{modelValue:a.value.smtpSSL,"onUpdate:modelValue":c[3]||(c[3]=_=>a.value.smtpSSL=_)},null,8,["modelValue"])]),_:1}),g(y,{prop:"pop3Host",label:"POP3\u670D\u52A1\u5668"},{default:h(()=>[g(V,{modelValue:a.value.pop3Host,"onUpdate:modelValue":c[4]||(c[4]=_=>a.value.pop3Host=_),maxlength:"50"},null,8,["modelValue"])]),_:1}),g(y,{prop:"pop3Port",label:"POP3\u7AEF\u53E3"},{default:h(()=>[g(w,{modelValue:a.value.pop3Port,"onUpdate:modelValue":c[5]||(c[5]=_=>a.value.pop3Port=_),type:"number",min:1,max:65535},null,8,["modelValue"])]),_:1}),g(y,{label:"POP3\u4F7F\u7528SSL"},{default:h(()=>[g(v,{modelValue:a.value.pop3SSL,"onUpdate:modelValue":c[6]||(c[6]=_=>a.value.pop3SSL=_)},null,8,["modelValue"])]),_:1}),g(d,{type:"primary",onClick:p,loading:o.value},{default:h(()=>[bt]),_:1},8,["loading"])]),_:1},8,["model","rules"])),[[E,t.value]])])}}};export{_t as default};
